import React from 'react';
import './job.css';

import Type from '../type/Type.js';
import ProgressBar from '../progressBar/ProgressBar.js';

import useModal from '../modalPanel/useModal.js';
import ModalPanel from '../modalPanel/ModalPanel.js';
import JobProjectForm from '../forms/JobProjectForm.js';


function Job(props) {

    const { isOpen, toggle } = useModal();

    return (
        <div className="col-4">
            <div className="job-card">
                <div className="job-header">
                    <Type 
                        type={props.data.type} 
                        selected="selected"
                    />
                    <button className="more-button" onClick={toggle}>•••</button>
                </div>
                <h1>{props.data.name}</h1>
                <h2 className="d-flex flex-row job-project">
                    <svg width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd" d="M0 0C0 3.91306 1.29429 6.14266 3.04139 7.27012C4.27499 8.0662 5.67169 8.27085 6.85734 8.19022L6.1 9.2L6.9 9.8L8.4 7.8L8.66019 7.45308L8.35355 7.14645L8.34419 7.13709L8.33486 7.12775L8.32555 7.11844L8.31627 7.10917L8.30702 7.09991L8.2978 7.09069L8.2886 7.08149L8.27943 7.07232L8.27029 7.06318L8.26117 7.05406L8.25208 7.04498L8.24302 7.03591L8.23399 7.02688L8.22498 7.01787L8.216 7.00889L8.20704 6.99994L8.19812 6.99101L8.18922 6.98211L8.18035 6.97324L8.1715 6.96439L8.16268 6.95557L8.15389 6.94678L8.14512 6.93801L8.13638 6.92927L8.12767 6.92056L8.11898 6.91188L8.11032 6.90322L8.10169 6.89458L8.09308 6.88598L8.0845 6.8774L8.07595 6.86884L8.06742 6.86031L8.05892 6.85181L8.05044 6.84334L8.042 6.83489L8.03357 6.82647L8.02518 6.81807L8.01681 6.8097L8.00846 6.80136L8.00014 6.79304L7.99185 6.78475L7.98359 6.77648L7.97535 6.76824L7.96713 6.76003L7.95894 6.75184L7.95078 6.74368L7.94265 6.73554L7.93454 6.72743L7.92645 6.71934L7.91839 6.71128L7.91036 6.70325L7.90235 6.69524L7.89437 6.68726L7.88641 6.6793L7.87848 6.67137L7.87057 6.66347L7.86269 6.65559L7.85484 6.64773L7.84701 6.6399L7.8392 6.6321L7.83143 6.62432L7.82367 6.61657L7.81594 6.60884L7.80824 6.60113L7.80056 6.59346L7.79291 6.5858L7.78528 6.57818L7.77768 6.57057L7.7701 6.563L7.76255 6.55544L7.75502 6.54792L7.74752 6.54041L7.74004 6.53294L7.73259 6.52548L7.72516 6.51805L7.71776 6.51065L7.71038 6.50327L7.70303 6.49592L7.6957 6.48859L7.68839 6.48129L7.68111 6.47401L7.67386 6.46675L7.66663 6.45952L7.65942 6.45231L7.65224 6.44513L7.64508 6.43797L7.63795 6.43084L7.63084 6.42373L7.62375 6.41665L7.61669 6.40959L7.60966 6.40255L7.60265 6.39554L7.59566 6.38855L7.5887 6.38159L7.58176 6.37465L7.57484 6.36774L7.56795 6.36084L7.56108 6.35398L7.55424 6.34713L7.54742 6.34032L7.54063 6.33352L7.53386 6.32675L7.52711 6.32L7.52038 6.31328L7.51368 6.30658L7.50701 6.2999L7.50035 6.29325L7.49373 6.28662L7.48712 6.28001L7.48054 6.27343L7.47398 6.26687L7.46744 6.26034L7.46093 6.25383L7.45445 6.24734L7.44798 6.24087L7.44154 6.23443L7.43512 6.22801L7.42873 6.22162L7.42236 6.21525L7.41601 6.2089L7.40968 6.20258L7.40338 6.19627L7.3971 6.19L7.39085 6.18374L7.38461 6.17751L7.3784 6.1713L7.37222 6.16511L7.36605 6.15895L7.35991 6.15281L7.35379 6.14669L7.3477 6.14059L7.34163 6.13452L7.33558 6.12847L7.32955 6.12244L7.32355 6.11644L7.31756 6.11046L7.3116 6.1045L7.30567 6.09856L7.29975 6.09265L7.29386 6.08676L7.28799 6.08089L7.28215 6.07504L7.27632 6.06922L7.27052 6.06341L7.26474 6.05763L7.25898 6.05188L7.25325 6.04614L7.24754 6.04043L7.24185 6.03474L7.23618 6.02907L7.23053 6.02342L7.22491 6.0178L7.2193 6.0122L7.21372 6.00662L7.20817 6.00106L7.20263 5.99552L7.19711 5.99001L7.19162 5.98452L7.18615 5.97904L7.1807 5.9736L7.17527 5.96817L7.16987 5.96276L7.16448 5.95738L7.15912 5.95202L7.15378 5.94667L7.14846 5.94136L7.14316 5.93606L7.13789 5.93078L7.13263 5.92553L7.1274 5.92029L7.12219 5.91508L7.117 5.90989L7.11183 5.90472L7.10668 5.89957L7.10155 5.89445L7.09645 5.88934L7.09136 5.88426L7.0863 5.87919L7.08126 5.87415L7.07624 5.86913L7.07124 5.86413L7.06626 5.85915L7.0613 5.85419L7.05636 5.84926L7.05145 5.84434L7.04655 5.83945L7.04168 5.83457L7.03682 5.82972L7.03199 5.82488L7.02718 5.82007L7.02239 5.81528L7.01762 5.81051L7.01287 5.80576L7.00814 5.80103L7.00343 5.79632L6.99874 5.79163L6.99407 5.78696L6.98942 5.78231L6.98479 5.77769L6.98019 5.77308L6.9756 5.76849L6.97103 5.76393L6.96649 5.75938L6.96196 5.75485L6.95745 5.75035L6.95297 5.74586L6.9485 5.7414L6.94406 5.73695L6.93963 5.73252L6.93523 5.72812L6.93084 5.72373L6.92647 5.71937L6.92213 5.71502L6.9178 5.71069L6.9135 5.70639L6.90921 5.7021L6.90494 5.69783L6.90069 5.69359L6.89647 5.68936L6.89226 5.68515L6.88807 5.68096L6.8839 5.6768L6.87975 5.67265L6.87562 5.66852L6.87151 5.66441L6.86742 5.66032L6.86335 5.65624L6.8593 5.65219L6.85527 5.64816L6.85125 5.64415L6.84726 5.64015L6.84328 5.63618L6.83933 5.63222L6.83539 5.62828L6.83147 5.62437L6.82758 5.62047L6.8237 5.61659L6.81984 5.61273L6.81599 5.60889L6.81217 5.60506L6.80837 5.60126L6.80458 5.59748L6.80082 5.59371L6.79707 5.58996L6.79334 5.58623L6.78963 5.58252L6.78594 5.57883L6.78227 5.57516L6.77861 5.57151L6.77498 5.56787L6.77136 5.56425L6.76776 5.56066L6.76418 5.55708L6.76062 5.55351L6.75708 5.54997L6.75355 5.54645L6.75005 5.54294L6.74656 5.53945L6.74309 5.53598L6.73964 5.53253L6.7362 5.5291L6.73279 5.52568L6.72939 5.52228L6.72601 5.5189L6.72265 5.51554L6.71931 5.5122L6.71598 5.50887L6.71267 5.50557L6.70938 5.50228L6.70611 5.49901L6.70286 5.49575L6.69962 5.49252L6.6964 5.4893L6.6932 5.4861L6.69002 5.48291L6.68686 5.47975L6.68371 5.4766L6.68058 5.47347L6.67746 5.47036L6.67437 5.46726L6.67129 5.46418L6.66823 5.46112L6.66519 5.45808L6.66216 5.45506L6.65915 5.45205L6.65616 5.44906L6.65319 5.44608L6.65023 5.44313L6.64729 5.44019L6.64437 5.43726L6.64147 5.43436L6.63858 5.43147L6.63571 5.4286L6.63285 5.42575L6.63002 5.42291L6.6272 5.42009L6.62439 5.41728L6.62161 5.4145L6.61884 5.41173L6.61608 5.40898L6.61335 5.40624L6.61063 5.40352L6.60792 5.40082L6.60524 5.39813L6.60257 5.39546L6.59992 5.39281L6.59728 5.39017L6.59466 5.38755L6.59205 5.38495L6.58947 5.38236L6.5869 5.37979L6.58434 5.37724L6.5818 5.3747L6.57928 5.37218L6.57678 5.36967L6.57429 5.36718L6.57181 5.36471L6.56936 5.36225L6.56692 5.35981L6.56449 5.35738L6.56208 5.35498L6.55969 5.35258L6.55731 5.3502L6.55495 5.34784L6.55261 5.3455L6.55028 5.34317L6.54796 5.34086L6.54566 5.33856L6.54338 5.33628L6.54112 5.33401L6.53887 5.33176L6.53663 5.32952L6.53441 5.3273L6.53221 5.3251L6.53002 5.32291L6.52785 5.32074L6.52569 5.31858L6.52355 5.31644L6.52142 5.31431L6.51931 5.3122L6.51721 5.3101L6.51513 5.30802L6.51307 5.30596L6.51101 5.30391L6.50898 5.30187L6.50696 5.29985L6.50495 5.29785L6.50296 5.29586L6.50099 5.29388L6.49903 5.29192L6.49709 5.28998L6.49515 5.28805L6.49324 5.28613L6.49134 5.28423L6.48945 5.28235L6.48758 5.28048L6.48573 5.27862L6.48389 5.27678L6.48206 5.27495L6.48025 5.27314L6.47845 5.27134L6.47667 5.26956L6.4749 5.26779L6.47314 5.26604L6.47141 5.2643L6.46968 5.26257L6.46797 5.26086L6.46627 5.25917L6.46459 5.25748L6.46292 5.25582L6.46127 5.25416L6.45963 5.25252L6.45801 5.2509L6.45639 5.24929L6.4548 5.24769L6.45321 5.24611L6.45165 5.24454L6.45009 5.24298L6.44855 5.24144L6.44702 5.23992L6.44551 5.2384L6.44401 5.2369L6.44252 5.23542L6.44105 5.23395L6.4396 5.23249L6.43815 5.23104L6.43672 5.22961L6.4353 5.2282L6.4339 5.22679L6.43251 5.2254L6.43113 5.22403L6.42977 5.22266L6.42842 5.22131L6.42709 5.21998L6.42576 5.21866L6.42445 5.21735L6.42316 5.21605L6.42188 5.21477L6.42061 5.2135L6.41935 5.21224L6.41811 5.211L6.41688 5.20977L6.41566 5.20855L6.41446 5.20735L6.41326 5.20616L6.41209 5.20498L6.41092 5.20381L6.40977 5.20266L6.40863 5.20152L6.4075 5.2004L6.40639 5.19928L6.40529 5.19818L6.4042 5.1971L6.40313 5.19602L6.40206 5.19496L6.40101 5.19391L6.39998 5.19287L6.39895 5.19185L6.39794 5.19083L6.39694 5.18983L6.39595 5.18885L6.39498 5.18787L6.39401 5.18691L6.39306 5.18596L6.39213 5.18502L6.3912 5.18409L6.39029 5.18318L6.38939 5.18228L6.3885 5.18139L6.38762 5.18051L6.38675 5.17965L6.3859 5.1788L6.38506 5.17795L6.38423 5.17713L6.38342 5.17631L6.38261 5.1755L6.38182 5.17471L6.38104 5.17393L6.38027 5.17316L6.37951 5.1724L6.37876 5.17166L6.37803 5.17092L6.37731 5.1702L6.37659 5.16949L6.3759 5.16879L6.37521 5.1681L6.37453 5.16742L6.37387 5.16676L6.37321 5.16611L6.37257 5.16546L6.37194 5.16483L6.37132 5.16421L6.37071 5.16361L6.37012 5.16301L6.36953 5.16242L6.36896 5.16185L6.36839 5.16129L6.36784 5.16073L6.3673 5.16019L6.36677 5.15966L6.36625 5.15914L6.36574 5.15864L6.36525 5.15814L6.36476 5.15765L6.36428 5.15718L6.36382 5.15671L6.36337 5.15626L6.36292 5.15582L6.36249 5.15538L6.36207 5.15496L6.36166 5.15455L6.36126 5.15415L6.36087 5.15376L6.36049 5.15338L6.36012 5.15302L6.35976 5.15266L6.35942 5.15231L6.35908 5.15197L6.35875 5.15165L6.35844 5.15133L6.35813 5.15102L6.35783 5.15073L6.35755 5.15044L6.35727 5.15017L6.35701 5.1499L6.35675 5.14965L6.35651 5.1494L6.35627 5.14917L6.35605 5.14894L6.35583 5.14873L6.35563 5.14852L6.35543 5.14833L6.35525 5.14814L6.35507 5.14796L6.35491 5.1478L6.35475 5.14764L6.3546 5.1475L6.35447 5.14736L6.35434 5.14723L6.35422 5.14712L6.35412 5.14701L6.35402 5.14691L6.35393 5.14682L6.35385 5.14674L6.35378 5.14667L6.35372 5.14661L6.35367 5.14656L6.35363 5.14652L6.35359 5.14649L6.35357 5.14646L6.35356 5.14645L6 5.5L5.64645 5.85356L5.64646 5.85357L5.64649 5.85359L5.64652 5.85363L5.64656 5.85367L5.64661 5.85372L5.64667 5.85378L5.64674 5.85385L5.64682 5.85393L5.64691 5.85402L5.64701 5.85412L5.64712 5.85422L5.64723 5.85434L5.64736 5.85447L5.6475 5.8546L5.64764 5.85475L5.6478 5.85491L5.64796 5.85507L5.64814 5.85525L5.64833 5.85543L5.64852 5.85563L5.64873 5.85583L5.64894 5.85605L5.64917 5.85627L5.6494 5.85651L5.64965 5.85675L5.6499 5.85701L5.65017 5.85727L5.65044 5.85755L5.65073 5.85783L5.65102 5.85813L5.65133 5.85844L5.65165 5.85875L5.65197 5.85908L5.65231 5.85942L5.65266 5.85976L5.65302 5.86012L5.65338 5.86049L5.65376 5.86087L5.65415 5.86126L5.65455 5.86166L5.65496 5.86207L5.65538 5.86249L5.65582 5.86292L5.65626 5.86337L5.65671 5.86382L5.65718 5.86428L5.65765 5.86476L5.65814 5.86525L5.65864 5.86574L5.65914 5.86625L5.65966 5.86677L5.66019 5.8673L5.66073 5.86784L5.66129 5.86839L5.66185 5.86896L5.66242 5.86953L5.66301 5.87012L5.66361 5.87071L5.66421 5.87132L5.66483 5.87194L5.66546 5.87257L5.66611 5.87321L5.66676 5.87387L5.66742 5.87453L5.6681 5.87521L5.66879 5.8759L5.66949 5.87659L5.6702 5.87731L5.67092 5.87803L5.67166 5.87876L5.6724 5.87951L5.67316 5.88027L5.67393 5.88104L5.67471 5.88182L5.6755 5.88261L5.67631 5.88342L5.67713 5.88423L5.67795 5.88506L5.6788 5.8859L5.67965 5.88675L5.68051 5.88762L5.68139 5.8885L5.68228 5.88939L5.68318 5.89029L5.68409 5.8912L5.68502 5.89213L5.68596 5.89306L5.68691 5.89401L5.68787 5.89498L5.68885 5.89595L5.68983 5.89694L5.69083 5.89794L5.69185 5.89895L5.69287 5.89998L5.69391 5.90101L5.69496 5.90206L5.69602 5.90313L5.6971 5.9042L5.69818 5.90529L5.69928 5.90639L5.7004 5.9075L5.70152 5.90863L5.70266 5.90977L5.70381 5.91092L5.70498 5.91209L5.70616 5.91326L5.70735 5.91446L5.70855 5.91566L5.70977 5.91688L5.711 5.91811L5.71224 5.91935L5.7135 5.92061L5.71477 5.92188L5.71605 5.92316L5.71735 5.92445L5.71866 5.92576L5.71998 5.92709L5.72131 5.92842L5.72266 5.92977L5.72403 5.93113L5.7254 5.93251L5.72679 5.9339L5.7282 5.9353L5.72961 5.93672L5.73104 5.93815L5.73249 5.9396L5.73395 5.94105L5.73542 5.94252L5.7369 5.94401L5.7384 5.94551L5.73992 5.94702L5.74144 5.94855L5.74298 5.95009L5.74454 5.95165L5.74611 5.95321L5.74769 5.9548L5.74929 5.95639L5.7509 5.95801L5.75252 5.95963L5.75416 5.96127L5.75582 5.96292L5.75748 5.96459L5.75917 5.96627L5.76086 5.96797L5.76257 5.96968L5.7643 5.97141L5.76604 5.97314L5.76779 5.9749L5.76956 5.97667L5.77134 5.97845L5.77314 5.98025L5.77495 5.98206L5.77678 5.98389L5.77862 5.98573L5.78048 5.98758L5.78235 5.98945L5.78423 5.99134L5.78613 5.99324L5.78805 5.99515L5.78998 5.99709L5.79192 5.99903L5.79388 6.00099L5.79586 6.00296L5.79785 6.00495L5.79985 6.00696L5.80187 6.00898L5.80391 6.01101L5.80596 6.01307L5.80802 6.01513L5.8101 6.01721L5.8122 6.01931L5.81431 6.02142L5.81644 6.02355L5.81858 6.02569L5.82074 6.02785L5.82291 6.03002L5.8251 6.03221L5.8273 6.03441L5.82952 6.03663L5.83176 6.03887L5.83401 6.04112L5.83628 6.04338L5.83856 6.04566L5.84086 6.04796L5.84317 6.05028L5.8455 6.05261L5.84784 6.05495L5.8502 6.05731L5.85258 6.05969L5.85498 6.06208L5.85738 6.06449L5.85981 6.06692L5.86225 6.06936L5.86471 6.07181L5.86718 6.07429L5.86967 6.07678L5.87218 6.07928L5.8747 6.0818L5.87724 6.08434L5.87979 6.0869L5.88236 6.08947L5.88495 6.09205L5.88755 6.09466L5.89017 6.09728L5.89281 6.09992L5.89546 6.10257L5.89813 6.10524L5.90082 6.10792L5.90352 6.11063L5.90624 6.11335L5.90898 6.11608L5.91173 6.11884L5.9145 6.12161L5.91728 6.12439L5.92009 6.1272L5.92291 6.13002L5.92575 6.13285L5.9286 6.13571L5.93147 6.13858L5.93436 6.14147L5.93726 6.14437L5.94019 6.14729L5.94313 6.15023L5.94608 6.15319L5.94906 6.15616L5.95205 6.15915L5.95506 6.16216L5.95808 6.16519L5.96112 6.16823L5.96418 6.17129L5.96726 6.17437L5.97036 6.17746L5.97347 6.18058L5.9766 6.18371L5.97975 6.18686L5.98291 6.19002L5.9861 6.1932L5.9893 6.1964L5.99252 6.19962L5.99575 6.20286L5.99901 6.20611L6.00228 6.20938L6.00557 6.21267L6.00887 6.21598L6.0122 6.21931L6.01554 6.22265L6.0189 6.22601L6.02228 6.22939L6.02568 6.23279L6.0291 6.2362L6.03253 6.23964L6.03598 6.24309L6.03945 6.24656L6.04294 6.25005L6.04645 6.25355L6.04997 6.25708L6.05351 6.26062L6.05708 6.26418L6.06066 6.26776L6.06425 6.27136L6.06787 6.27498L6.07151 6.27861L6.07516 6.28227L6.07883 6.28594L6.08252 6.28963L6.08623 6.29334L6.08996 6.29707L6.09371 6.30082L6.09748 6.30458L6.10126 6.30837L6.10506 6.31217L6.10889 6.31599L6.11273 6.31984L6.11659 6.3237L6.12047 6.32758L6.12437 6.33147L6.12828 6.33539L6.13222 6.33933L6.13618 6.34328L6.14015 6.34726L6.14415 6.35125L6.14816 6.35527L6.15219 6.3593L6.15624 6.36335L6.16032 6.36742L6.16441 6.37151L6.16852 6.37562L6.17265 6.37975L6.1768 6.3839L6.18096 6.38807L6.18515 6.39226L6.18936 6.39647L6.19359 6.40069L6.19783 6.40494L6.2021 6.40921L6.20639 6.4135L6.21069 6.4178L6.21502 6.42213L6.21937 6.42647L6.22373 6.43084L6.22812 6.43523L6.23252 6.43963L6.23695 6.44406L6.2414 6.4485L6.24586 6.45297L6.25035 6.45745L6.25485 6.46196L6.25938 6.46649L6.26393 6.47103L6.26849 6.4756L6.27308 6.48019L6.27769 6.48479L6.28231 6.48942L6.28696 6.49407L6.29163 6.49874L6.29632 6.50343L6.30103 6.50814L6.30576 6.51287L6.31051 6.51762L6.31528 6.52239L6.32007 6.52718L6.32488 6.53199L6.32972 6.53682L6.33457 6.54168L6.33945 6.54655L6.34434 6.55145L6.34926 6.55636L6.35419 6.5613L6.35915 6.56626L6.36413 6.57124L6.36913 6.57624L6.37415 6.58126L6.37919 6.5863L6.38426 6.59136L6.38934 6.59645L6.39445 6.60155L6.39957 6.60668L6.40472 6.61183L6.40989 6.617L6.41508 6.62219L6.42029 6.6274L6.42553 6.63263L6.43078 6.63789L6.43606 6.64316L6.44136 6.64846L6.44667 6.65378L6.45202 6.65912L6.45738 6.66448L6.46276 6.66987L6.46817 6.67527L6.4736 6.6807L6.47904 6.68615L6.48452 6.69162L6.49001 6.69711L6.49552 6.70263L6.50106 6.70817L6.50662 6.71372L6.5122 6.7193L6.5178 6.72491L6.52342 6.73053L6.52907 6.73618L6.53474 6.74185L6.54043 6.74754L6.54614 6.75325L6.55188 6.75898L6.55763 6.76474L6.56341 6.77052L6.56922 6.77632L6.57504 6.78215L6.58089 6.78799L6.58676 6.79386L6.59265 6.79975L6.59856 6.80567L6.6045 6.8116L6.61046 6.81756L6.61644 6.82355L6.62244 6.82955L6.62847 6.83558L6.63452 6.84163L6.64059 6.8477L6.64669 6.85379L6.65281 6.85991L6.65895 6.86605L6.66511 6.87222L6.6713 6.8784L6.67751 6.88461L6.68374 6.89085L6.69 6.8971L6.69627 6.90338L6.70258 6.90968L6.7089 6.91601L6.71525 6.92236L6.72162 6.92873L6.72801 6.93512L6.73443 6.94154L6.74087 6.94798L6.74734 6.95445L6.75383 6.96093L6.76034 6.96744L6.76687 6.97398L6.77343 6.98054L6.78001 6.98712L6.78662 6.99373L6.79325 7.00035L6.7999 7.00701L6.80658 7.01368L6.81328 7.02038L6.82 7.02711L6.82675 7.03386L6.83352 7.04063L6.84032 7.04742L6.84713 7.05424L6.85398 7.06108L6.86084 7.06795L6.86774 7.07484L6.87465 7.08176L6.88159 7.0887L6.88855 7.09566L6.89554 7.10265L6.90255 7.10966L6.90959 7.11669L6.91665 7.12375L6.92373 7.13084L6.93084 7.13795L6.93797 7.14508L6.94513 7.15224L6.95231 7.15942L6.95952 7.16663L6.96675 7.17386L6.97076 7.17787C5.91953 7.28124 4.66111 7.12523 3.58361 6.42988C2.20571 5.54068 1 3.68694 1 0H0Z" fill="#A8A8A8"/>
                    </svg>
                    <span style={{ marginLeft : "5px"}}>{props.data.projectId ? " " + props.data.projectId.name : <i>Pas de projet</i>}</span>
                </h2>
                <p className="job-description">{props.data.description}</p>
                <div className="job-time">
                    Semaines
                </div>
                <ProgressBar progress={props.data.progress} 
                    type={props.data.type} 
                />
            </div>
            <ModalPanel isOpen={isOpen}>
                <JobProjectForm hide={toggle} data={props.data} formType="job"/>
            </ModalPanel>
        </div >
    )
};

export default Job;